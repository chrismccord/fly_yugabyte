# #!/bin/sh

# Set the ulimit for open files
ulimit -n 1048576

# Set transparent_hugepage to always
echo always > /sys/kernel/mm/transparent_hugepage/enabled

./bin/yugabyted start --background=false \
  --advertise_address="${FLY_MACHINE_ID}.vm.${FLY_APP_NAME}.internal" \
  --base_dir=$YB_BASE_DIR \
  --fault_tolerance="region" \
  --callhome=false \
  --cloud_location="fly.${FLY_REGION}.${FLY_REGION}" \
  --join="${PRIMARY_REGION}.${FLY_APP_NAME}.internal"